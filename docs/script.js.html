<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: script.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: script.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>document.addEventListener('DOMContentLoaded', () => {
    const todoTable = document.getElementById('todoTable').getElementsByTagName('tbody')[0];
    const addButton = document.getElementById('addButton');
  
  /**
   * localStorage から TODO リストを読み込み、各項目をテーブルに追加します。
   *
   * @function loadTodos
   */
    function loadTodos() {
      const todos = JSON.parse(localStorage.getItem('todos')) || [];
      todos.forEach(todo => addTodoRow(todo));
    }
  
    /**
     * localStorage に TODO リストを保存します。
     * 
     * @function saveTodos
     */
    function saveTodos() {
      const todos = [];
      todoTable.querySelectorAll('tr').forEach(row => {
        const taskName = row.querySelector('.taskName').textContent;
        const isChecked = row.querySelector('.taskStatus').checked;
        const deadline = row.querySelector('.taskDeadline').textContent;
        todos.push({ taskName, isChecked, deadline });
      });
      localStorage.setItem('todos', JSON.stringify(todos));
    }
  
    /**
     * 指定された TODO アイテムの情報を元に、新しいテーブルの行を追加します。
     * 
     * @param {Object} todo - TODO アイテムのオブジェクト
     * @param {string} todo.taskName - タスク名
     * @param {boolean} todo.isChecked - タスクの実施状態(完了済みかどうか)
     * @param {string} todo.deadline - タスクの期限
     * 
     * @function addTodoRow
     */
    function addTodoRow(todo) {
      const row = todoTable.insertRow();
      const taskNameCell = row.insertCell(0);
      const taskStatusCell = row.insertCell(1);
      const taskDeadlineCell = row.insertCell(2);
      const taskActionCell = row.insertCell(3);
  
      taskNameCell.className = 'taskName';
      taskNameCell.textContent = todo.taskName;
  
      const checkbox = document.createElement('input');
      checkbox.type = 'checkbox';
      checkbox.className = 'taskStatus';
      checkbox.checked = todo.isChecked;
      checkbox.addEventListener('change', saveTodos);
      taskStatusCell.appendChild(checkbox);
  
      taskDeadlineCell.className = 'taskDeadline';
      taskDeadlineCell.textContent = todo.deadline;
  
      const deleteButton = document.createElement('button');
      deleteButton.textContent = '削除';
      deleteButton.addEventListener('click', () => {
        todoTable.deleteRow(row.rowIndex - 1);
        saveTodos();
      });
      taskActionCell.appendChild(deleteButton);
    }
  
    /**
     *「追加」ボタンがクリックされた際にタスク名と期限をユーザーに入力させ、新しい TODO アイテムを追加します。 
     */
    addButton.addEventListener('click', () => {
      const taskName = prompt('タスク名を入力してください:');
      const deadline = prompt('期限を入力してください:');
      if (taskName &amp;&amp; deadline) {
        const todo = { taskName, isChecked: false, deadline };
        addTodoRow(todo);
        saveTodos();
      }
    });
  
    loadTodos();
  });
  </code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#addTodoRow">addTodoRow</a></li><li><a href="global.html#loadTodos">loadTodos</a></li><li><a href="global.html#saveTodos">saveTodos</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Sun Mar 09 2025 05:53:25 GMT+0900 (日本標準時)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
